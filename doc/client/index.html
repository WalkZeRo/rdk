<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
    <title>RDK 快速开发框架</title>

    <link rel="stylesheet" type="text/css" href="/rdk/app/libs/rdk/css/loading.css">
    <script data-main="/rdk/app/libs/rdk/rdk" src="/rdk/app/libs/requirejs/require.js"></script>
    
    <script type="text/javascript">

        var menuCfg = [{
            label: "通用功能", type: 'folder', open: true,
            icon: "../img/folder.png",
            module: [
                {
                    label: "数据源",
                    doc: "client/common/datasource/DataSourceService.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "事件机制",
                    doc: "client/common/event/EventService.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "国际化",
                    doc: "client/common/i18n/i18n.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "对话框&模态框",
                    doc: "client/common/modal/rdk_modal.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "滚动条",
                    doc: "client/common/scroll/rdk_scroll.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "文件上传",
                    doc: "client/common/upload.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "文件导出",
                    doc: "client/common/export.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "主题",
                    doc: "client/common/theme/rdk_theme.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "自研符号图标", target: "content",
                    url: "/rdk/app/libs/iconFonts/fonts/iconfont.html",
                    icon: "../img/link.png",
                },
                {
                    label: "弹出菜单",
                    doc: "client/common/menuservice/MenuService.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "通知服务",
                    doc: "client/common/notifyservice/NotifyService.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "tooltip",
                    doc: "client/common/tooltip/tooltip.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "其他",
                    doc: "client/common/other.md",
                    icon: "../img/manual.png",
                }
            ],
        }, {
            label: "控件", type: 'folder', open: true,
            icon: "../img/folder.png",
            module: [
                {
                    label: "Alert",
                    doc: "client/common/alert/alert.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "AreaSelect",
                    doc: "client/controls/area/rdk_area.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "BasicSelector",
                    doc: "client/controls/basicselector/rdk_basic_selector.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "Bullet",
                    doc: "client/controls/bullet/bullet.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "Button",
                    doc: "client/controls/button/rdk_button.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "ChartIcon",
                    doc: "client/controls/chartIcon/rdk_chart_icon.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "ComboSelect",
                    doc: "client/controls/comboselect/rdk_comboselect.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "FoldSelector",
                    doc: "client/controls/foldselector/rdk_fold_selector.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "Graph",
                    doc: "client/controls/graph/graph.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "Icon",
                    doc: "client/controls/icon/rdk_icon.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "Input",
                    doc: "client/controls/input/rdk_input.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "ListSelector",
                    doc: "client/controls/listselector/rdk_list_selector.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "Map",
                    doc: "client/controls/map/map.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "Module",
                    doc: "client/controls/module/module.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "NumericInput",
                    doc: "client/controls/numericinput/rdk_numeric_input.md",
                    icon: "../img/manual.png"
                },
                {
                    label: "Progressbar",
                    doc: "client/controls/progressbar/progressbar.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "Scroller",
                    doc: "client/controls/scroller/rdk_scroller.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "Selector",
                    doc: "client/controls/selector/rdk_selector.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "SingleIndicator",
                    doc: "client/controls/singleindicator/rdk_single_indicator.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "Scoreindicator",
                    doc: "client/controls/scoreindicator/scoreindicator.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "Switch",
                    doc: "client/controls/switch/rdk_switch.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "Steps",
                    doc: "client/controls/steps/rdk_steps.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "Table",
                    doc: "client/controls/table/rdk_table.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "TabSelect",
                    doc: "client/controls/tabselect/rdk_tabselect.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "Time",
                    doc: "client/controls/time/rdk_time.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "TimeSelect",
                    doc: "client/controls/timeSelect/rdk_time_select.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "TimeRange",
                    doc: "client/controls/timeRange/rdk_time_range.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "Tree",
                    doc: "client/controls/tree/tree.md",
                    icon: "../img/manual.png",
                }
            ],
        }, {
            label: "容器", type: 'folder', open: true,
            icon: "../img/folder.png",
            module: [
                {
                    label: "Accordion",
                    doc: "client/containers/accordion/rdk_accordion.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "ButtonGroup",
                    doc: "client/containers/buttongroup/rdk_buttongroup.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "Panel",
                    doc: "client/containers/panel/rdk_panel.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "Tab",
                    doc: "client/containers/tab/rdk_tab.md",
                    icon: "../img/manual.png",
                },
            ],
        },
        {
            label:"WebGIS",type:'folder',open:true,
            icon:"../img/folder.png",
            module:[
                {
                    label:"API",target: 'content',
                    url:"http://10.9.233.35:10087/webgis/default/developer/js_api/index.html#a1_1",
                    icon: "../img/manual.png"
                },
                {
                    label:"GisServer",target: 'content',
                    url:"http://10.9.233.35:10087/webgis/default/Giserver/GisServer.html",
                    icon: "../img/manual.png"
                },
                {
                    label:"GisApply",target: 'content',
                    url:"http://10.9.233.35:10087/webgis/default/developer/demo/index.html#mapDisplay-initMap",
                    icon: "../img/manual.png"
                }
            ]
        },
        {
            label: "应用示例demo", type: 'folder', open: true,
            icon: "../img/folder.png",
            module: [
                {
                    label: "搜索筛选",
                    doc: "client/common/ApplicationExample/SearchFilter.md",
                    icon: "../img/link.png",
                },
                {
                    label: "tab",
                    doc: "client/common/ApplicationExample/tab.md",
                    icon: "../img/link.png",
                },
                {
                    label: "按钮",
                    doc: "client/common/ApplicationExample/button.md",
                    icon: "../img/link.png",
                },
                {
                    label: "模态框",
                    doc: "client/common/ApplicationExample/ModalDialog.md",
                    icon: "../img/link.png",
                },
                {
                    label: "提示信息",
                    doc: "client/common/ApplicationExample/tooltip.md",
                    icon: "../img/link.png",
                },
                {
                    label: "表格",
                    doc: "client/common/ApplicationExample/table.md",
                    icon: "../img/link.png",
                },
                {
                    label: "输入框",
                    doc: "client/common/ApplicationExample/InputBox.md",
                    icon: "../img/link.png",
                },
                {
                    label: "下拉框",
                    doc: "client/common/ApplicationExample/menu.md",
                    icon: "../img/link.png",
                },
                {
                    label: "翻页",
                    doc: "client/common/ApplicationExample/page.md",
                    icon: "../img/link.png",
                },
                {
                    label: "步骤条",
                    doc: "client/common/ApplicationExample/steps.md",
                    icon: "../img/link.png",
                },
                {
                    label: "地区时间",
                    doc: "client/common/ApplicationExample/InTheTime.md",
                    icon: "../img/link.png",
                },
                {
                    label: "滚动条",
                    doc: "client/common/ApplicationExample/scroll.md",
                    icon: "../img/link.png",
                },
                {
                    label: "导航",
                    doc: "client/common/ApplicationExample/nav.md",
                    icon: "../img/link.png",
                },
                {
                    label: "对比",
                    doc: "client/common/ApplicationExample/contrast.md",
                    icon: "../img/link.png",
                },
                {
                    label: "图形",
                    doc: "client/common/ApplicationExample/graph.md",
                    icon: "../img/link.png",
                },
                {
                    label: "综合示例",
                    doc: "client/common/ApplicationExample/comprehensive.md",
                    icon: "../img/link.png",
                }

            ],
        },
        {
            label:"app开发详细说明文档",type:'folder',open:true,
            icon:"../img/folder.png",
            module:[
            {
                label:"Help Document",
                doc:"client/app-document/rdk_app_direction_doc.md",
                icon: "../img/manual.png"
            }
            ]
        },
        {
            label: "原生HTML标签", type: 'folder', open: false,
            icon: "../img/folder.png",
            module: [
                {
                    label: "h1~h6",
                    doc: "unsupported-yet.md",
                    icon: "../img/manual.png",
                },
                {
                    label: "span",
                    doc: "unsupported-yet.md",
                    icon: "../img/manual.png",
                }
            ],
        },{
            label: "css小技巧", type: 'folder', open: false,
            icon: "../img/folder.png",
            module: [
                {
                    label: "清除浮动的常用方法",
                    doc: "client/common/clear/clear.md",
                    icon: "../img/manual.png",
                },{
                    label: "content的使用",
                    doc: "client/common/content/content.md",
                    icon: "../img/manual.png",
                },{
                    label: "两端对齐的布局方式及使用场景",
                    doc: "client/common/justify/justify.md",
                    icon: "../img/manual.png",
                }
            ],
        },{
            label: "常用动画效果", type: 'folder', open: false,
            icon: "../img/folder.png",
            module: [
                {
                    label: "滑动门",
                    doc: "client/common/animation/sliding_door.md",
                    icon: "../img/manual.png",
                }
                
            ],
        }, {
            label: "AngularJS 常用", type: 'folder', open: false,
            icon: "../img/folder.png",
            module: [
            {
                label: "频繁使用",
                open: true,
                icon: "../img/folder.png",
                module: [
                    {
                        label: "angular.forEach", target: 'content',
                        url: "http://docs.ngnice.com/api/ng/function/angular.forEach",
                        icon: "../img/link.png",
                    },
                    {
                        label: "ngClass", target: 'content',
                        url: "http://docs.ngnice.com/api/ng/directive/ngClass",
                        icon: "../img/link.png",
                    },
                    {
                        label: "ngClick", target: 'content',
                        url: "http://docs.ngnice.com/api/ng/directive/ngClick",
                        icon: "../img/link.png",
                    },
                    {
                        label: "ngDisabled", target: 'content',
                        url: "http://docs.ngnice.com/api/ng/directive/ngDisabled",
                        icon: "../img/link.png",
                    },
                    {
                        label: "ngRepeat", target: 'content',
                        doc: "client/common/ng-repeat.md",
                        icon: "../img/manual.png",
                    },
                    {
                        label: "ngShow", target: 'content',
                        url: "http://docs.ngnice.com/api/ng/directive/ngShow",
                        icon: "../img/link.png",
                    },
                    {
                        label: "$timeout", target: 'content',
                        url: "http://docs.ngnice.com/api/ng/service/$timeout",
                        icon: "../img/link.png",
                    },
                ]
            },
            {
                label: "常用",
                open: true,
                icon: "../img/folder.png",
                module: [
                    {
                        label: "ngBlur", target: 'content',
                        url: "http://docs.ngnice.com/api/ng/directive/ngBlur",
                        icon: "../img/link.png",
                    },
                    {
                        label: "ngChange", target: 'content',
                        url: "http://docs.ngnice.com/api/ng/directive/ngChange",
                        icon: "../img/link.png",
                    },
                    {
                        label: "ngHide", target: 'content',
                        url: "http://docs.ngnice.com/api/ng/directive/ngHide",
                        icon: "../img/link.png",
                    },
                    {
                        label: "ngHref", target: 'content',
                        url: "http://docs.ngnice.com/api/ng/directive/ngHref",
                        icon: "../img/link.png",
                    },
                    {
                        label: "ngKeydown", target: 'content',
                        url: "http://docs.ngnice.com/api/ng/directive/ngKeydown",
                        icon: "../img/link.png",
                    },
                    {
                        label: "ngModel", target: 'content',
                        url: "http://docs.ngnice.com/api/ng/directive/ngModel",
                        icon: "../img/link.png",
                    },
                    {
                        label: "ngSrc", target: 'content',
                        url: "http://docs.ngnice.com/api/ng/directive/ngSrc",
                        icon: "../img/link.png",
                    },
                ]
            },
            {
                label: "重要但不常用",
                open: true,
                icon: "../img/folder.png",
                module: [
                    {
                        label: "ngController", target: 'content',
                        url: "http://docs.ngnice.com/api/ng/directive/ngController",
                        icon: "../img/link.png",
                    },
                    {
                        label: "何为作用域(Scope)", target: 'content',
                        url: "http://docs.ngnice.com/guide/scope",
                        icon: "../img/link.png",
                    },
                ]
            },
            ],
        }];
        
        define('main', ['rd.controls.Tree'], function() {
            var app = angular.module("rdk_app", ['rd.controls.Tree']);
            app.controller('rdk_ctrl', ['$scope', main]);
        });
        
        function main(scope) {
            var ctxPath = getContextPath() + '#';
            scope.menuCfg = menuCfg;
            scope.location = ctxPath + 'client/common/datasource/DataSourceService.md';
            $('#content').attr('src', scope.location);
            
            scope.clickHandler = function(event, item) {
                if (item.type == 'folder') {
                    return;
                }
                if (item.doc) {
                    scope.location = ctxPath + item.doc;
                } else if (item.url) {
                    scope.location = item.url;
                } else {
                    scope.location = ctxPath + '404.md';
                }
                
                $('#content').attr('src', scope.location);
                scope.$apply();
                try {
                    $('#content')[0].contentWindow.scrollTo(0, 0);
                } catch(e) {
                }
            }
        }
        
        function getFont(treeId, node) {
            return node.font ? node.font : {};
        }
        
        //window.onload 和 document.ready 有可能不触发，不知道为啥
        var interval = setInterval(resizeContent, 5);
        
        function resizeContent() {
            if (!document.body) {
                return;
            }
            if(navigator.userAgent.indexOf('Firefox') != -1){
                document.getElementById('tree').style.height = (document.documentElement.scrollHeight - 54) + "px";
                document.getElementById('content').style.width = (document.documentElement.scrollWidth - 270) + "px";
                document.getElementById('content').style.height = (document.documentElement.scrollHeight - 22) + "px";  
            }
            else{
                document.getElementById('tree').style.height = (document.body.scrollHeight - 54) + "px";//701+40-8=733
                document.getElementById('content').style.width = (document.body.scrollWidth - 270) + "px";
                document.getElementById('content').style.height = (document.body.scrollHeight - 22) + "px";
            }
            clearInterval(interval);
        }

        window.onresize = function() {
            $('#content').css('width', $(window).width() - 270);
            $('#content').css('height', $(window).height() - 22);
        }

        function getContextPath() {
            var match = location.pathname.match(/^(.*\/doc\/)/);
            return !!match ? match[1] : location.pathname;
        }
    </script>
</head>

<style>

iframe {
    border:1px solid #CCC;
    border-radius:2px;
    margin: 0 0 0 250px;
}
#tree{
    position:fixed;
    left:0px; 
    top:0px;
    padding-top: 20px;
    overflow-y: auto;
    overflow-x: hidden;
}
.location {
    font-size: 16px;
    color: #000;
    padding: 12px 12px 6px 12px;
    margin-top: -8px;
    position: fixed;
    text-decoration: none;
    background-color: #fff;
    width: 175px;
}
.location:hover {
    text-decoration: underline;
}
</style>

<body ng-controller="rdk_ctrl" class="rdk-loading">
    <div id="tree">
        <rdk_tree data="menuCfg" node_field="module" click="clickHandler">
        </rdk_tree>
    </div>

    <a class="location" ng-href="{{location}}" target="_blank"><img src="../img/open.png"></img> 打开当前文档</a>

    <iframe id="content" name="content"></iframe>
</body>

</html>
